# Migration `20201001205638-0-0-8`

This migration has been generated by Taykavol at 10/1/2020, 11:56:38 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
Begin;
CREATE TYPE "public"."Category_new" AS ENUM ('OPENINGS', 'MIDDLEGAME', 'ENDGAME', 'GAMES', 'BASICS');
ALTER TABLE "public"."Course" ALTER COLUMN "category" DROP DEFAULT,
                            ALTER COLUMN "category" TYPE "Category_new" USING ("category"::text::"Category_new"),
                            ALTER COLUMN "category" SET DEFAULT 'OPENINGS';
ALTER TYPE "Category" RENAME TO "Category_old";
ALTER TYPE "Category_new" RENAME TO "Category";
DROP TYPE "Category_old";
Commit

ALTER TABLE "public"."Course" ALTER COLUMN "category" SET DEFAULT E'BASICS'
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200916010856-0-0-7..20201001205638-0-0-8
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -65,9 +65,9 @@
 subtitle String @default("")
 author instructorProfile? @relation(fields: [authorId],references:[id])
 authorId Int?
 description String? @default("")
-category Category @default(Basics)
+category Category @default(BASICS)
 level String @default("1500 2000")
 status Status? @default(BUILDING)
 registedStudents Int @default(0)
 lessons Int?
@@ -151,13 +151,13 @@
 //   moves String[]
 //   helps String[]
 // }
 enum Category {
-  Openings
-  Middlegame
-  Endgame
-  Games
-  Basics
+  OPENINGS
+  MIDDLEGAME
+  ENDGAME
+  GAMES
+  BASICS
 } 
 enum Status {
 BUILDING
 VERIFYING
```


